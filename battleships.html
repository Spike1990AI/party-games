<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2v2 Battleships</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/battleships.css">
</head>
<body>
    <a href="index.html" class="nav-home">
        <span class="nav-icon">üè†</span>
        <span>Home</span>
    </a>

    <div class="container">
        <!-- Loading Screen -->
        <div id="loadingScreen" class="screen">
            <div class="loader"></div>
            <p>Loading game...</p>
        </div>

        <!-- Join Screen -->
        <div id="joinScreen" class="screen hidden">
            <h1>‚öì Battleships</h1>
            <p class="subtitle">Classic naval combat</p>

            <div class="room-section">
                <div class="create-room">
                    <h3>Create New Game</h3>
                    <div class="mode-select">
                        <button id="create1v1Btn" class="btn-primary">1v1 Duel (2 players)</button>
                        <button id="create2v2Btn" class="btn-primary" style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);">2v2 Teams (4 players)</button>
                    </div>
                </div>

                <div class="divider">OR</div>

                <div class="join-room">
                    <h3>Join Existing Game</h3>
                    <input type="text" id="roomCodeInput" placeholder="Enter 4-letter code" maxlength="4">
                    <button id="joinRoomBtn" class="btn-primary">Join Room</button>
                </div>
            </div>

            <div id="roomCode" class="room-code hidden">
                <p>Room Code:</p>
                <h2 id="codeDisplay"></h2>
                <p class="small" id="shareMessage">Share this with 3 other players</p>
            </div>
        </div>

        <!-- Team Select Screen -->
        <div id="teamScreen" class="screen hidden">
            <button class="btn-back" onclick="goBack('joinScreen')">‚Üê Back</button>
            <div class="room-code-header">Room: <span id="roomCodeTeam"></span></div>
            <h1>‚öì Choose Your Team</h1>
            <div class="team-select">
                <button id="team1Btn" class="team-btn team1">
                    <h2>üîµ Team 1</h2>
                    <p id="team1Count">0/2 players</p>
                </button>
                <button id="team2Btn" class="team-btn team2">
                    <h2>üî¥ Team 2</h2>
                    <p id="team2Count">0/2 players</p>
                </button>
            </div>
            <div class="player-name-input">
                <input type="text" id="playerName" placeholder="Your name" maxlength="12">
                <button id="joinGameBtn" class="btn-primary" style="display: none;">Join Game</button>
            </div>
        </div>

        <!-- Setup Screen - Place Ships -->
        <div id="setupScreen" class="screen hidden">
            <button class="btn-back" onclick="goBack('teamScreen')">‚Üê Back</button>
            <div class="room-code-header">Room: <span id="roomCodeSetup"></span></div>
            <h1>Place Your Ships</h1>
            <div class="setup-info">
                <p>Team <span id="yourTeam"></span></p>
                <p class="small">Tap to rotate, drag to place</p>
            </div>

            <div class="ships-to-place">
                <div class="ship-item" data-length="5">Carrier (5)</div>
                <div class="ship-item" data-length="4">Battleship (4)</div>
                <div class="ship-item" data-length="3">Cruiser (3)</div>
                <div class="ship-item" data-length="3">Submarine (3)</div>
                <div class="ship-item" data-length="2">Destroyer (2)</div>
            </div>

            <div id="setupBoard" class="board"></div>

            <button id="readyBtn" class="btn-primary" disabled>Ready to Battle!</button>
            <div id="waitingMessage" class="hidden">Waiting for opponent...</div>
        </div>

        <!-- Battle Screen -->
        <div id="battleScreen" class="screen hidden">
            <div class="room-code-header">Room: <span id="roomCodeBattle"></span></div>
            <div class="battle-header">
                <div class="team-info">
                    <h3>Team <span id="battleTeam"></span></h3>
                    <p id="turnIndicator">Enemy's turn...</p>
                </div>
                <div class="ships-remaining">
                    <p>Your ships: <span id="yourShips">5</span></p>
                    <p>Enemy ships: <span id="enemyShips">5</span></p>
                </div>
            </div>

            <h3>Enemy Waters</h3>
            <div id="attackBoard" class="board"></div>

            <h3>Your Fleet</h3>
            <div id="defenseBoard" class="board"></div>

            <button id="surrenderBtn" class="btn-danger" onclick="surrender()">Surrender</button>
        </div>

        <!-- Victory Screen -->
        <div id="victoryScreen" class="screen hidden">
            <h1 id="victoryTitle">üéâ</h1>
            <div class="victory-info">
                <p id="victoryMessage"></p>
            </div>
            <button id="newGameBtn" class="btn-primary">New Game</button>
        </div>
    </div>

    <script type="module" src="js/battleships.js"></script>
</body>
</html>
